(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6225],{48730:function(e,t,n){var r={"./en-US/home.json":[34102,4102],"./en-US/login.json":[59751,9751],"./en-US/register.json":[13223,3223],"./en-US/setting/menu.json":[23588,3588],"./en-US/setting/power.json":[97456,7456],"./en-US/setting/role.json":[18202,8202],"./en-US/setting/user.json":[80157,157],"./en-US/sidebar.json":[43759,3759],"./en-US/task/exploit.json":[70383,383],"./en-US/task/reconnaissance.json":[59786,9786],"./en-US/task/reconnaissance/executivePDF.json":[19774,9459],"./en-US/task/reconnaissance/pdf.json":[96600,6600],"./en-US/task/reconnaissance/report.json":[96872,6872],"./jp/home.json":[16734,6734],"./jp/login.json":[70848,848],"./jp/register.json":[90320,320],"./jp/setting/menu.json":[84168,4168],"./jp/setting/power.json":[15810,5810],"./jp/setting/role.json":[43909,3909],"./jp/setting/user.json":[76727,6727],"./jp/sidebar.json":[40802,802],"./jp/task/exploit.json":[91487,1487],"./jp/task/reconnaissance.json":[22253,2253],"./jp/task/reconnaissance/executivePDF.json":[19810,9810],"./jp/task/reconnaissance/pdf.json":[37950,7950],"./jp/task/reconnaissance/report.json":[99784,9784],"./zh-TW/home.json":[44744,4744],"./zh-TW/login.json":[36937,6937],"./zh-TW/register.json":[95199,5199],"./zh-TW/setting/menu.json":[91812,1812],"./zh-TW/setting/power.json":[31391,1391],"./zh-TW/setting/role.json":[80407,407],"./zh-TW/setting/user.json":[76355,6355],"./zh-TW/sidebar.json":[56956,6956],"./zh-TW/task/exploit.json":[65019,5019],"./zh-TW/task/reconnaissance.json":[13729,3729],"./zh-TW/task/reconnaissance/executivePDF.json":[13093,3093],"./zh-TW/task/reconnaissance/pdf.json":[53431,3431],"./zh-TW/task/reconnaissance/report.json":[70345,345]};function i(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],i=t[0];return n.e(t[1]).then(function(){return n.t(i,19)})}i.keys=function(){return Object.keys(r)},i.id=48730,e.exports=i},43051:function(e,t,n){Promise.resolve().then(n.bind(n,96248))},77589:function(e,t,n){"use strict";var r=n(23963);t.Z=void 0;var i=r(n(19118)),o=n(57437),a=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=a},83282:function(e,t,n){"use strict";var r=n(23963);t.Z=void 0;var i=r(n(19118)),o=n(57437),a=(0,i.default)((0,o.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");t.Z=a},29616:function(e,t,n){"use strict";var r=n(23963);t.Z=void 0;var i=r(n(19118)),o=n(57437),a=(0,i.default)((0,o.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"}),"Web");t.Z=a},4369:function(e,t){"use strict";t.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},51706:function(e,t,n){"use strict";n.d(t,{I6:function(){return i},Nw:function(){return r}});let{actions:r,reducer:i}=(0,n(31116).oM)({name:"menu",initialState:{loading:!1,queryOptions:{},menuRequest:{},menus:{},menuData:{}},reducers:{setQueryOptions(e,t){e.queryOptions=t.payload},setLoading(e,t){e.loading=t.payload},fetchMenu(e,t){},setMenus(e,t){e.menus=t.payload},createMenu(e,t){},deleteMenu(e,t){},fetchMenuById(e,t){},setSelectedMenuData(e,t){e.menuData=t.payload}}})},45960:function(e,t,n){"use strict";n.d(t,{C8:function(){return a},E2:function(){return o},cK:function(){return s}});var r=n(74042);let i=e=>e.menu,o=(0,r.P1)(i,e=>e.loading);(0,r.P1)(i,e=>e.menuRequest);let a=(0,r.P1)(i,e=>e.menus),s=(0,r.P1)(i,e=>e.menuData)},96248:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var r=n(57437),i=n(2265),o=n(11444),a=n(60335),s=n(95635),l=n(99128),c=n(91326),d=n(80511),u=n(60091),h=n(34990),f=n(32591),p=n(86492),x=n(79889),j=n(71254),g=n(22294),m=n(95253),v=n(65693),Z=n(79710),b=n(70749),w=n(77630),y=n(78975),k=n(49),S=n(28549),C=n(23983),M=n(14595),P=n(68038),N=n(60035),q=n(67622),T=n(58237),I=n(7508),W=n(4369),z=n(48024),E=n(10209),_=n(74042);let O=e=>e.power,D=(0,_.P1)(O,e=>e.loading);(0,_.P1)(O,e=>e.powerRequest);let L=(0,_.P1)(O,e=>e.powers),U=(0,_.P1)(O,e=>e.powerData),R=(0,z.ZP)(y.Z)(e=>{let{theme:t}=e;return{"& .MuiSwitch-switchBase.Mui-checked":{color:W.Z[600],"&:hover":{backgroundColor:(0,E.Fq)(W.Z[600],t.palette.action.hoverOpacity)}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:W.Z[600]}}});function A(e){let{id:t,modal:n,menuData:a,handleChangeClose:h,lng:f}=e,x=(0,o.v9)(D),j=(0,o.v9)(U),[g,m]=(0,i.useState)(""),[v,Z]=(0,i.useState)(""),b=(0,o.I0)(),{t:y}=(0,p.$)(f,"setting/power"),[W,z]=(0,i.useState)({id:-1,menu_id:-1,title:"",code:"",description:"",sort:null,is_enable:!0}),[E,_]=(0,i.useState)({title:y("required",{name:y("title")}),code:y("required",{name:y("code")}),menu_id:y("required",{name:y("Menu")})}),O={title:{required:!0,requiredMessage:y("titleRequired")},code:{required:!0,requiredMessage:y("codeRequired")},menu_id:{required:!0,requiredMessage:y("descriptionRequired")}},L=(e,t)=>{let n=O[e];if(n.required&&(!t||Array.isArray(t)&&0===t.length))return n.requiredMessage;if(n.regex){if(Array.isArray(t)){for(let e of t)if(!n.regex.test(e))return n.regexMessage}else if(!n.regex.test(t))return n.regexMessage}return""},A=async()=>{b(w.Nw.createOrUpdatePower(W))};return((0,i.useEffect)(()=>{("view"==n||"delete"==n)&&b(w.Nw.fetchPowerById(t))},[n,t,b]),(0,i.useEffect)(()=>{("view"==n||"delete"==n)&&0!==Object.keys(j).length&&(z(j),_({title:"",code:"",menu_id:""}))},[j,n]),"delete"==n)?(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d.Z,{variant:"body1",gutterBottom:!0,children:y("confirmDeletion",{title:W.title})}),(0,r.jsx)(k.Z,{children:(0,r.jsx)(S.Z,{variant:"outlined",sx:{m:1},children:(0,r.jsx)(C.Z,{required:!0,label:y("typeToConfirmDelete",{title:W.title}),variant:"outlined",value:g,error:""!==v,helperText:v||y("enterNameToDelete"),onChange:e=>{let t=e.target.value;m(t),Z(t!==W.title?y("nameMismatch"):"")}})})}),(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[" ",(0,r.jsx)(u.Z,{variant:"contained",color:"error",onClick:async()=>{b(w.Nw.deletePower(t)),h()},startIcon:(0,r.jsx)(q.Z,{}),sx:{mr:1},disabled:g!==j.title,children:y("delete")}),(0,r.jsx)(u.Z,{variant:"contained",onClick:h,startIcon:(0,r.jsx)(T.Z,{}),children:y("cancel")})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{in:x,children:(0,r.jsx)(l.Z,{})}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:y(n)}),(0,r.jsx)(M.Z,{}),(0,r.jsxs)(k.Z,{sx:{pt:2},children:[(0,r.jsx)(I.j,{required:!0,error:""!==E.menu_id,helperText:E.menu_id,title:y("menuName"),onChange:e=>{z(t=>({...t,menu_id:e}));let t=L("menu_id",String(e));_(e=>({...e,menu_id:t}))},value:W.menu_id,parentData:a}),(0,r.jsx)(S.Z,{variant:"outlined",sx:{m:1},children:(0,r.jsx)(C.Z,{required:!0,label:y("title"),variant:"outlined",error:""!==E.title,helperText:E.title,value:W.title,onChange:e=>{z(t=>({...t,title:e.target.value}));let t=L("title",e.target.value);_(e=>({...e,title:t}))}})}),(0,r.jsx)(S.Z,{variant:"outlined",sx:{m:1},children:(0,r.jsx)(C.Z,{required:!0,label:y("code"),variant:"outlined",error:""!==E.code,helperText:E.code,value:W.code,onChange:e=>{z(t=>({...t,code:e.target.value}));let t=L("code",e.target.value);_(e=>({...e,code:t}))}})}),(0,r.jsx)(S.Z,{variant:"outlined",sx:{m:1},children:(0,r.jsx)(C.Z,{label:y("description"),variant:"outlined",value:W.description,onChange:e=>{z(t=>({...t,description:e.target.value}))}})})]}),(0,r.jsx)(k.Z,{sx:{alignItems:"flex-start"},children:(0,r.jsx)(S.Z,{variant:"outlined",sx:{m:1},children:(0,r.jsx)(P.Z,{value:W.is_enable,control:(0,r.jsx)(R,{color:"primary",checked:W.is_enable,style:{color:W.is_enable?"red":""}}),label:y("isEnable"),labelPlacement:"start",onChange:(e,t)=>{z(e=>({...e,is_enable:t}))}})})}),(0,r.jsx)(c.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:1,mb:1},children:(0,r.jsx)(N.Z,{children:(0,r.jsx)(u.Z,{variant:"contained",color:"success",disabled:Object.values(E).some(e=>""!==e),onClick:async()=>{A(),h()},children:y("save")})})})]})]})}var F=n(45960),B=n(51706);function H(e){let{params:{lng:t}}=e,{t:n}=(0,p.$)(t,"setting/power"),y=(0,x.A)(),k=(0,o.I0)(),S=(0,o.v9)(D),C=(0,o.v9)(L),M=(0,o.v9)(F.C8),[P,N]=(0,i.useState)(!1),q=()=>N(!0),T=()=>N(!1),[I,W]=(0,i.useState)(!0),[z,E]=(0,i.useState)("create"),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};_.width=I?800:400;let O=[{field:"menu_name",headerName:"".concat(n("menuName")),flex:1},{field:"title",headerName:"".concat(n("title")),flex:1},{field:"code",headerName:"".concat(n("code")),flex:1},{field:"description",headerName:"".concat(n("description")),flex:1},{field:"is_enable",headerName:"".concat(n("isEnable")),type:"boolean",flex:1},{field:"actions",headerName:"",flex:1,align:"center",sortable:!1,disableColumnMenu:!0,renderCell:e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Z,{onClick:()=>{R(Number(e.id)),q(),E("edit")},size:"small",style:{margin:"5px"},children:(0,r.jsx)(v.Z,{fontSize:"inherit"})}),(0,r.jsx)(a.Z,{onClick:()=>{R(Number(e.id)),q(),E("delete")},size:"small",style:{margin:"5px"},children:(0,r.jsx)(Z.Z,{fontSize:"inherit"})})]})}];(0,i.useEffect)(()=>{k(w.Nw.fetchPower())},[k]);let[U,R]=(0,i.useState)(-1);(0,i.useEffect)(()=>{k(B.Nw.fetchMenu())},[k]);let H=async e=>{let t=[...C],n=t.findIndex(t=>t.id===e.row.id),r=e.targetIndex;if(n>-1&&r>-1){let e={...t[n]};t[n]={...t[r]},t[r]=e}k(w.Nw.changeRowPower({firstId:t[n].id,secondId:t[r].id}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{in:S,children:(0,r.jsx)(l.Z,{})}),(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(d.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:n("powerManage")}),(0,r.jsxs)(c.Z,{children:[" ",(0,r.jsx)(u.Z,{component:"label",variant:"contained",color:"info",onClick:()=>{q(),E("create")},startIcon:(0,r.jsx)(m.Z,{}),sx:{mt:1,mb:1},children:n("create")})]})]}),(0,r.jsx)(h.Z,{elevation:3,sx:{p:2,borderRadius:"15px",width:"99%"},children:C&&C.length>0?(0,r.jsx)(j.s,{apiRef:y,rows:C,rowReordering:!0,columns:O,onRowOrderChange:H,slots:{toolbar:g.n},disableRowSelectionOnClick:!0,autoHeight:!0}):(0,r.jsx)(d.Z,{variant:"body1"})})]}),(0,r.jsx)(f.Z,{open:P,onClose:T,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(c.Z,{sx:_,children:["delete"!=z?(0,r.jsx)(d.Z,{id:"modal-modal-title",variant:"h6",component:"h2",style:{color:"white"},children:(0,r.jsx)(a.Z,{"aria-label":"resize",style:{float:"right",backgroundColor:"transparent"},onClick:()=>{W(!I)},children:(0,r.jsx)(b.Z,{})})}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)(A,{id:U,modal:z,menuData:M,handleChangeClose:T,lng:t,t:n})]})})]})}},77630:function(e,t,n){"use strict";n.d(t,{I6:function(){return i},Nw:function(){return r}});let{actions:r,reducer:i}=(0,n(31116).oM)({name:"power",initialState:{loading:!1,queryOptions:{},powerRequest:{},powers:{},powerData:{}},reducers:{setQueryOptions(e,t){e.queryOptions=t.payload},setLoading(e,t){e.loading=t.payload},fetchPower(e,t){},setPowers(e,t){e.powers=t.payload},createOrUpdatePower(e,t){},changeRowPower(e,t){},deletePower(e,t){},fetchPowerById(e,t){},setSelectedPowerData(e,t){e.powerData=t.payload}}})},24204:function(e,t,n){"use strict";n.d(t,{C:function(){return u}});var r=n(57437),i=n(2265),o=n(10358),a=n(11118),s=n(28125),l=n(28866),c=n(68038),d=n(11929);function u(e){let{data:t,selected:n,setSelected:u}=e,h=(0,i.useMemo)(()=>new Set(n),[n]),f=e=>{let t=[e.id];return e.children&&e.children.forEach(e=>{t=t.concat(f(e))}),t},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.children&&(t[e.id]=e.children.map(e=>e.id),e.children.forEach(e=>p(e,t))),t},x=(0,i.useMemo)(()=>p(t),[t]),j=(e,n)=>{let r=f(t).filter(t=>{var n;return t===e||(null===(n=x[t])||void 0===n?void 0:n.includes(e))}),i=new Set(h);n?r.forEach(e=>i.add(e)):r.forEach(e=>i.delete(e)),u(Array.from(i))},g=e=>{var t,n,i;let a=null===(t=e.children)||void 0===t?void 0:t.every(e=>h.has(e.id)),s=null===(n=e.children)||void 0===n?void 0:n.some(e=>h.has(e.id)),l=h.has(e.id);return(0,r.jsx)(o.k,{nodeId:e.id,label:(0,r.jsx)(c.Z,{control:(0,r.jsx)(d.Z,{checked:l,indeterminate:s&&!a,onChange:t=>j(e.id,t.target.checked),onClick:e=>e.stopPropagation()}),label:e.name}),children:null===(i=e.children)||void 0===i?void 0:i.map(e=>g(e))},e.id)};return(0,r.jsx)(a.L,{defaultCollapseIcon:(0,r.jsx)(s.Z,{}),defaultExpandIcon:(0,r.jsx)(l.Z,{}),children:g(t)})}},7508:function(e,t,n){"use strict";n.d(t,{j:function(){return y}});var r=n(57437),i=n(2265),o=n(48024),a=n(22960),s=n(80511),l=n(28549),c=n(23983),d=n(18502),u=n(60335),h=n(10358),f=n(99565),p=n(11118),x=n(28125),j=n(28866),g=n(91326),m=n(77589),v=n(83282),Z=n(29616);let b=(0,o.ZP)(h.k)(e=>{let{theme:t}=e;return{color:t.palette.text.secondary,["& .".concat(f.r.content)]:{color:t.palette.text.secondary,paddingRight:t.spacing(1),fontWeight:t.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:t.typography.fontWeightRegular},"&:hover":{backgroundColor:t.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:"var(--tree-view-bg-color, ".concat(t.palette.action.selected,")"),color:"var(--tree-view-color)"},["& .".concat(f.r.label)]:{fontWeight:"inherit",color:"inherit"}},["& .".concat(f.r.group)]:{marginLeft:0,["& .".concat(f.r.content)]:{paddingLeft:t.spacing(2)}}}}),w=i.forwardRef(function(e,t){let n=(0,a.Z)(),{bgColor:i,color:o,labelIcon:l,labelInfo:c,labelText:d,colorForDarkMode:u,bgColorForDarkMode:h,...f}=e,p={"--tree-view-color":"dark"!==n.palette.mode?o:u,"--tree-view-bg-color":"dark"!==n.palette.mode?i:h};return(0,r.jsx)(b,{label:(0,r.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",p:.5,pr:0},children:[(0,r.jsx)(g.Z,{component:l,color:"inherit",sx:{mr:1}}),(0,r.jsx)(s.Z,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1},children:d}),(0,r.jsx)(s.Z,{variant:"caption",color:"inherit",children:c})]}),style:p,...f,ref:t})}),y=e=>{let{title:t,onChange:n,value:o,parentData:a,required:s=!1,error:h=!1,helperText:f}=e,[b,y]=(0,i.useState)(""),[k,S]=(0,i.useState)(null);(0,i.useEffect)(()=>{var e;y((null===(e=a.find(e=>e.id===o))||void 0===e?void 0:e.title)||"")},[o,a]);let C=()=>{S(null)},M=e=>(0,r.jsx)(w,{nodeId:String(e.id),labelText:e.title,labelIcon:Array.isArray(e.children)&&e.children.length>0?v.Z:Z.Z,children:Array.isArray(e.children)?e.children.map(e=>M(e)):null},e.id),P=function(e){let t={};e.forEach(e=>{t[e.id]={...e,children:[]}});let n=[];return Object.values(t).forEach(e=>{if(0===e.parent)n.push(e);else{let n=t[e.parent];if(n){var r;n.children=null!==(r=n.children)&&void 0!==r?r:[],n.children.push(e)}}}),n}(a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{variant:"outlined",sx:{m:1},children:(0,r.jsx)(c.Z,{variant:"outlined",required:s,error:h,helperText:f,label:t,name:"parentForm",id:"parentForm",value:b,className:"w-100",onClick:e=>{S(e.currentTarget)},InputProps:{readOnly:!0,endAdornment:b?(0,r.jsx)(u.Z,{onClick:e=>{e.stopPropagation(),S(null),y(""),n(0)},edge:"end",children:(0,r.jsx)(m.Z,{})}):(0,r.jsx)(x.Z,{})}})}),(0,r.jsx)(d.ZP,{id:"TreePickerId",open:!!k,anchorEl:k,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,r.jsx)(g.Z,{sx:{bgcolor:"background.paper",width:(null==k?void 0:k.offsetWidth)||void 0},children:(0,r.jsx)(p.L,{"aria-label":"icon expansion",defaultSelected:String(o),selected:String(o),defaultCollapseIcon:(0,r.jsx)(x.Z,{}),defaultExpandIcon:(0,r.jsx)(j.Z,{}),onNodeSelect:(e,t)=>{e.target instanceof HTMLElement&&(C(),n(Number(t)),y(e.target.innerText))},sx:{height:200,flexGrow:1,minWidth:"200px",overflowY:"auto"},children:P.map(e=>M(e))})})})]})};n(24204)},86492:function(e,t,n){"use strict";n.d(t,{$:function(){return d}});var r=n(2265),i=n(46027),o=n(90089),a=n(9115),s=n(64312),l=n(88977),c=n(77350);i.ZP.use(o.Db).use(l.Z).use((0,s.Z)((e,t)=>n(48730)("./".concat(e,"/").concat(t,".json")))).init({...(0,c.FW)(),lng:void 0,detection:{order:["path","htmlTag","cookie","navigator"]},preload:[]});let d=(e,t,n)=>{let i=(0,a.useCookies)(),s=(0,o.$G)(t,n),{i18n:l}=s,[d,u]=(0,r.useState)(l.resolvedLanguage),h=d!==l.resolvedLanguage,f=e&&l.resolvedLanguage!==e,p=i.get(c.YN)!==e;return(0,r.useEffect)(()=>{h&&u(l.resolvedLanguage)},[l.resolvedLanguage,h]),(0,r.useEffect)(()=>{f&&l.changeLanguage(e)},[e,l.resolvedLanguage,f,l]),(0,r.useEffect)(()=>{p&&i.set(c.YN,e,{path:"/"})},[i,e,p]),s}},77350:function(e,t,n){"use strict";n.d(t,{FW:function(){return s},Mj:function(){return i},YN:function(){return a}});let r="en-US",i=[r,"zh-TW","jp"],o="translation",a="i18next";function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return{supportedLngs:i,fallbackLng:r,lng:e,fallbackNS:o,defaultNS:o,ns:t}}}},function(e){e.O(0,[5249,2037,4902,8433,2320,5150,3119,3207,7879,7841,7351,2659,1481,2971,7023,1744],function(){return e(e.s=43051)}),_N_E=e.O()}]);