(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1917],{48730:function(e,a,n){var t={"./en-US/home.json":[34102,4102],"./en-US/login.json":[59751,9751],"./en-US/register.json":[13223,3223],"./en-US/setting/menu.json":[23588,3588],"./en-US/setting/power.json":[97456,7456],"./en-US/setting/role.json":[18202,8202],"./en-US/setting/user.json":[80157,157],"./en-US/sidebar.json":[43759,3759],"./en-US/task/exploit.json":[70383,383],"./en-US/task/reconnaissance.json":[59786,9786],"./en-US/task/reconnaissance/executivePDF.json":[19774,9459],"./en-US/task/reconnaissance/pdf.json":[96600,6600],"./en-US/task/reconnaissance/report.json":[96872,6872],"./jp/home.json":[16734,6734],"./jp/login.json":[70848,848],"./jp/register.json":[90320,320],"./jp/setting/menu.json":[84168,4168],"./jp/setting/power.json":[15810,5810],"./jp/setting/role.json":[43909,3909],"./jp/setting/user.json":[76727,6727],"./jp/sidebar.json":[40802,802],"./jp/task/exploit.json":[91487,1487],"./jp/task/reconnaissance.json":[22253,2253],"./jp/task/reconnaissance/executivePDF.json":[19810,9810],"./jp/task/reconnaissance/pdf.json":[37950,7950],"./jp/task/reconnaissance/report.json":[99784,9784],"./zh-TW/home.json":[44744,4744],"./zh-TW/login.json":[36937,6937],"./zh-TW/register.json":[95199,5199],"./zh-TW/setting/menu.json":[91812,1812],"./zh-TW/setting/power.json":[31391,1391],"./zh-TW/setting/role.json":[80407,407],"./zh-TW/setting/user.json":[76355,6355],"./zh-TW/sidebar.json":[56956,6956],"./zh-TW/task/exploit.json":[65019,5019],"./zh-TW/task/reconnaissance.json":[13729,3729],"./zh-TW/task/reconnaissance/executivePDF.json":[13093,3093],"./zh-TW/task/reconnaissance/pdf.json":[53431,3431],"./zh-TW/task/reconnaissance/report.json":[70345,345]};function r(e){if(!n.o(t,e))return Promise.resolve().then(function(){var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a});var a=t[e],r=a[0];return n.e(a[1]).then(function(){return n.t(r,19)})}r.keys=function(){return Object.keys(t)},r.id=48730,e.exports=r},4326:function(e,a,n){Promise.resolve().then(n.bind(n,36743))},70749:function(e,a,n){"use strict";var t=n(23963);a.Z=void 0;var r=t(n(19118)),s=n(57437),i=(0,r.default)((0,s.jsx)("path",{d:"M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"}),"AspectRatio");a.Z=i},79710:function(e,a,n){"use strict";var t=n(23963);a.Z=void 0;var r=t(n(19118)),s=n(57437),i=(0,r.default)((0,s.jsx)("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}),"DeleteOutlined");a.Z=i},65693:function(e,a,n){"use strict";var t=n(23963);a.Z=void 0;var r=t(n(19118)),s=n(57437),i=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");a.Z=i},4369:function(e,a){"use strict";a.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},36743:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return B}});var t=n(57437),r=n(2265),s=n(11444),i=n(60335),l=n(95635),o=n(99128),c=n(91326),d=n(80511),u=n(60091),h=n(34990),m=n(32591),x=n(86492),j=n(79889),f=n(71254),g=n(22294),p=n(95253),v=n(65693),Z=n(79710),b=n(70749),w=n(78975),k=n(49),y=n(28549),_=n(23983),q=n(14595),C=n(68038),S=n(11929),N=n(60035),P=n(67622),U=n(58237),z=n(4369),M=n(48024),T=n(10209),E=n(74042);let W=e=>e.user,D=(0,E.P1)(W,e=>e.loading);(0,E.P1)(W,e=>e.userRequest);let O=(0,E.P1)(W,e=>e.userRole),L=(0,E.P1)(W,e=>e.users),R=(0,E.P1)(W,e=>e.userData);var F=n(94222);let A=(0,M.ZP)(w.Z)(e=>{let{theme:a}=e;return{"& .MuiSwitch-switchBase.Mui-checked":{color:z.Z[600],"&:hover":{backgroundColor:(0,T.Fq)(z.Z[600],a.palette.action.hoverOpacity)}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:z.Z[600]}}});function I(e){let{id:a,modal:n,handleChangeClose:i,lng:h}=e,m=(0,s.I0)(),j=(0,s.v9)(D),f=(0,s.v9)(R),[g,p]=(0,r.useState)(""),[v,Z]=(0,r.useState)(""),b=(0,s.v9)(O),{t:w}=(0,x.$)(h,"setting/user"),[z,M]=(0,r.useState)({id:-1,account:"",password:"",checkPassword:"",name:"",real_name:"",email:"",spare_email:"",mobile_phone:"",city_phone:"",city_phone_ext:"",address:"",is_enable:!0,role:[]}),[T,E]=(0,r.useState)({account:w("required",{name:w("account")}),password:w("required",{name:w("password")}),checkPassword:w("required",{name:w("checkPassword")}),name:w("required",{name:w("name")}),real_name:w("required",{name:w("realName")}),email:w("required",{name:w("email")})}),W={account:{required:!0,requiredMessage:w("required",{name:w("account")})},password:{required:!0,requiredMessage:w("required",{name:w("password")})},checkPassword:{required:!0,requiredMessage:w("required",{name:w("checkPassword")})},name:{required:!0,requiredMessage:w("required",{name:w("name")})},real_name:{required:!0,requiredMessage:w("required",{name:w("realName")})},email:{required:!0,requiredMessage:w("required",{name:w("email")})}},L=e=>z.password!==e?w("errorCheckPassword"):"",I=(e,a)=>{let n=W[e];if(n.required&&(!a||Array.isArray(a)&&0===a.length))return n.requiredMessage;if(n.regex){if(Array.isArray(a)){for(let e of a)if(!n.regex.test(e))return n.regexMessage}else if(!n.regex.test(a))return n.regexMessage}return""},B=async()=>{m(F.Nw.createUser(z))};(0,r.useEffect)(()=>{("view"==n||"delete"==n)&&m(F.Nw.fetchUserById(a))},[n,a,m]),(0,r.useEffect)(()=>{("view"==n||"delete"==n)&&"id"in f&&(M(f),f.role&&V(f.role),E({account:"",password:"",checkPassword:"",name:"",real_name:"",email:""}))},[f,n]);let[H,V]=(0,r.useState)([]);(0,r.useEffect)(()=>{M({...z,role:H})},[H]),(0,r.useEffect)(()=>{m(F.Nw.fetchUserRole())},[m]);let Y=e=>{V(a=>-1===a.indexOf(e)?[...a,e]:a.filter(a=>a!==e))};return"delete"==n?(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(d.Z,{variant:"body1",gutterBottom:!0,children:w("confirmDeletion",{account:z.account})}),(0,t.jsx)(k.Z,{children:(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("typeToConfirmDelete",{account:z.account}),variant:"outlined",value:g,error:""!==v,helperText:v||w("enterNameToDelete"),onChange:e=>{let a=e.target.value;p(a),Z(a!==z.account?w("nameMismatch"):"")}})})}),(0,t.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[" ",(0,t.jsx)(u.Z,{variant:"contained",color:"error",onClick:async()=>{m(F.Nw.deleteUser(a)),i()},startIcon:(0,t.jsx)(P.Z,{}),sx:{mr:1},disabled:g!==f.account,children:w("delete")}),(0,t.jsx)(u.Z,{variant:"contained",onClick:i,startIcon:(0,t.jsx)(U.Z,{}),children:w("cancel")})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{in:j,children:(0,t.jsx)(o.Z,{})}),(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(d.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:w(n)}),(0,t.jsx)(q.Z,{}),(0,t.jsx)(c.Z,{sx:{maxHeight:"600px",overflowY:"auto",padding:2},children:(0,t.jsxs)(k.Z,{sx:{pt:2},children:[(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("account"),variant:"outlined",error:""!==T.account,helperText:T.account,value:z.account,onChange:e=>{M(a=>({...a,account:e.target.value}));let a=I("account",e.target.value);E(e=>({...e,account:a}))}})}),"create"==n?(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("password"),variant:"outlined",type:"password",error:""!==T.password,helperText:T.password,value:z.password,onChange:e=>{M(a=>({...a,password:e.target.value}));let a=I("password",e.target.value);E(e=>({...e,password:a}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("checkPassword"),variant:"outlined",type:"password",error:""!==T.checkPassword||z.checkPassword!==z.password,helperText:T.checkPassword,value:z.checkPassword,onChange:e=>{M(a=>({...a,checkPassword:e.target.value}));let a=L(e.target.value);E(e=>({...e,checkPassword:a}))}})})]}):null,(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("name"),variant:"outlined",error:""!==T.name,helperText:T.name,value:z.name,onChange:e=>{M(a=>({...a,name:e.target.value}));let a=I("name",e.target.value);E(e=>({...e,name:a}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("realName"),variant:"outlined",error:""!==T.real_name,helperText:T.real_name,value:z.real_name,onChange:e=>{M(a=>({...a,real_name:e.target.value}));let a=I("real_name",e.target.value);E(e=>({...e,real_name:a}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("email"),variant:"outlined",error:""!==T.email,helperText:T.email,value:z.email,onChange:e=>{M(a=>({...a,email:e.target.value}));let a=I("email",e.target.value);E(e=>({...e,email:a}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("spareEmail"),variant:"outlined",value:z.spare_email,onChange:e=>{M(a=>({...a,spare_email:e.target.value}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("mobilePhone"),variant:"outlined",value:z.mobile_phone,onChange:e=>{M(a=>({...a,mobile_phone:e.target.value}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("cityPhone"),variant:"outlined",value:z.city_phone,onChange:e=>{M(a=>({...a,city_phone:e.target.value}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("cityPhoneExt"),variant:"outlined",value:z.city_phone_ext,onChange:e=>{M(a=>({...a,city_phone_ext:e.target.value}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",sx:{m:1},children:(0,t.jsx)(_.Z,{required:!0,label:w("address"),variant:"outlined",value:z.address,onChange:e=>{M(a=>({...a,address:e.target.value}))}})}),(0,t.jsx)(y.Z,{variant:"outlined",children:(0,t.jsxs)(c.Z,{sx:{display:"flex",alignItems:"left"},children:[(0,t.jsx)(d.Z,{variant:"subtitle1",gutterBottom:!0,sx:{ml:1,marginTop:1},children:w("isEnable")}),(0,t.jsx)(C.Z,{value:z.is_enable,control:(0,t.jsx)(A,{color:"primary",checked:z.is_enable,style:{color:z.is_enable?"red":""}}),label:"",labelPlacement:"start",onChange:(e,a)=>{M(e=>({...e,is_enable:a}))},sx:{marginLeft:"8px"}})]})}),(0,t.jsxs)(d.Z,{variant:"subtitle1",gutterBottom:!0,sx:{ml:1,m:1},children:[w("memberRole"),":"]}),b&&b.length>0?b.map(e=>{let{id:a,title:n}=e;return(0,t.jsx)(C.Z,{control:(0,t.jsx)(S.Z,{checked:H.includes(a),onChange:()=>Y(a),sx:{ml:3}}),label:n},a)}):null]})}),(0,t.jsx)(c.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:1,mb:1},children:(0,t.jsx)(N.Z,{children:(0,t.jsx)(u.Z,{variant:"contained",color:"success",disabled:Object.values(T).some(e=>""!==e),onClick:async()=>{B(),i()},children:w("save")})})})]})]})}function B(e){let{params:{lng:a}}=e,n=(0,s.I0)(),w=(0,s.v9)(L),k=(0,s.v9)(D),{t:y}=(0,x.$)(a,"setting/user"),_=(0,j.A)(),[q,C]=(0,r.useState)(!1),S=()=>C(!0),N=()=>C(!1),[P,U]=(0,r.useState)(!0),[z,M]=(0,r.useState)("create"),T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};T.width=P?800:400;let E=[{field:"account",headerName:"".concat(y("account")),flex:1},{field:"name",headerName:"".concat(y("name")),flex:1},{field:"real_name",headerName:"".concat(y("realName")),flex:1},{field:"email",headerName:"".concat(y("email")),flex:1},{field:"spare_email",headerName:"".concat(y("spareEmail")),flex:1},{field:"mobile_phone",headerName:"".concat(y("mobilePhone")),flex:1},{field:"city_phone",headerName:"".concat(y("cityPhone")),flex:1},{field:"city_phone_ext",headerName:"".concat(y("cityPhoneExt")),flex:1},{field:"address",headerName:"".concat(y("address")),flex:1},{field:"is_enable",headerName:"".concat(y("isEnable")),type:"boolean",flex:1},{field:"actions",headerName:"",flex:1,align:"center",sortable:!1,disableColumnMenu:!0,renderCell:e=>(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Z,{onClick:()=>{O(Number(e.id)),S(),M("edit")},size:"small",style:{margin:"5px"},children:(0,t.jsx)(v.Z,{fontSize:"inherit"})}),(0,t.jsx)(i.Z,{onClick:()=>{O(Number(e.id)),S(),M("delete")},size:"small",style:{margin:"5px"},children:(0,t.jsx)(Z.Z,{fontSize:"inherit"})})]})}],[W,O]=(0,r.useState)(-1);return(0,r.useEffect)(()=>{n(F.Nw.fetchUser())},[n]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{in:k,children:(0,t.jsx)(o.Z,{})}),(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)(d.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:y("memberManage")}),(0,t.jsxs)(c.Z,{children:[" ",(0,t.jsx)(u.Z,{component:"label",variant:"contained",color:"info",onClick:()=>{S(),M("create")},startIcon:(0,t.jsx)(p.Z,{}),sx:{mt:1,mb:1},children:y("create")})]})]}),(0,t.jsx)(h.Z,{elevation:3,sx:{p:2,borderRadius:"15px",width:"99%"},children:w&&w.length>0?(0,t.jsx)(f.s,{apiRef:_,rows:w,columns:E,slots:{toolbar:g.n},disableRowSelectionOnClick:!0,autoHeight:!0}):(0,t.jsx)(d.Z,{variant:"body1"})})]}),(0,t.jsx)(m.Z,{open:q,onClose:N,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,t.jsxs)(c.Z,{sx:T,children:["delete"!=z?(0,t.jsx)(d.Z,{id:"modal-modal-title",variant:"h6",component:"h2",style:{color:"white"},children:(0,t.jsx)(i.Z,{"aria-label":"resize",style:{float:"right",backgroundColor:"transparent"},onClick:()=>{U(!P)},children:(0,t.jsx)(b.Z,{})})}):(0,t.jsx)(t.Fragment,{}),(0,t.jsx)(I,{id:W,modal:z,handleChangeClose:N,lng:a,t:y})]})})]})}},94222:function(e,a,n){"use strict";n.d(a,{I6:function(){return r},Nw:function(){return t}});let{actions:t,reducer:r}=(0,n(31116).oM)({name:"user",initialState:{loading:!1,queryOptions:{},userRequest:{},users:{},userData:{},userRole:{}},reducers:{setQueryOptions(e,a){e.queryOptions=a.payload},setLoading(e,a){e.loading=a.payload},fetchUser(e,a){},setUsers(e,a){e.users=a.payload},fetchUserRole(e,a){},setUserRole(e,a){e.userRole=a.payload},createUser(e,a){},deleteUser(e,a){},fetchUserById(e,a){},setSelectedUserData(e,a){e.userData=a.payload}}})},86492:function(e,a,n){"use strict";n.d(a,{$:function(){return d}});var t=n(2265),r=n(46027),s=n(90089),i=n(9115),l=n(64312),o=n(88977),c=n(77350);r.ZP.use(s.Db).use(o.Z).use((0,l.Z)((e,a)=>n(48730)("./".concat(e,"/").concat(a,".json")))).init({...(0,c.FW)(),lng:void 0,detection:{order:["path","htmlTag","cookie","navigator"]},preload:[]});let d=(e,a,n)=>{let r=(0,i.useCookies)(),l=(0,s.$G)(a,n),{i18n:o}=l,[d,u]=(0,t.useState)(o.resolvedLanguage),h=d!==o.resolvedLanguage,m=e&&o.resolvedLanguage!==e,x=r.get(c.YN)!==e;return(0,t.useEffect)(()=>{h&&u(o.resolvedLanguage)},[o.resolvedLanguage,h]),(0,t.useEffect)(()=>{m&&o.changeLanguage(e)},[e,o.resolvedLanguage,m,o]),(0,t.useEffect)(()=>{x&&r.set(c.YN,e,{path:"/"})},[r,e,x]),l}},77350:function(e,a,n){"use strict";n.d(a,{FW:function(){return l},Mj:function(){return r},YN:function(){return i}});let t="en-US",r=[t,"zh-TW","jp"],s="translation",i="i18next";function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return{supportedLngs:r,fallbackLng:t,lng:e,fallbackNS:s,defaultNS:s,ns:a}}}},function(e){e.O(0,[5249,2037,4902,8433,2320,5150,3119,3207,7879,7841,7351,2659,2971,7023,1744],function(){return e(e.s=4326)}),_N_E=e.O()}]);