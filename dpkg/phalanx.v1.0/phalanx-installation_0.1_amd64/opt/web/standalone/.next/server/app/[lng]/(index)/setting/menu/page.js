(()=>{var e={};e.id=8837,e.ids=[8837],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},7977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(3772),r(5932),r(32029),r(35866);var n=r(23191),s=r(88716),i=r(37922),a=r.n(i),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["[lng]",{children:["(index)",{children:["setting",{children:["menu",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3772)),"/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/menu/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5932)),"/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/menu/page.tsx"],u="/[lng]/(index)/setting/menu/page",x={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/[lng]/(index)/setting/menu/page",pathname:"/[lng]/setting/menu",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56342:(e,t,r)=>{Promise.resolve().then(r.bind(r,14454))},91421:(e,t,r)=>{"use strict";var n=r(39618);t.Z=void 0;var s=n(r(71133)),i=r(10326),a=(0,s.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=a},33182:(e,t,r)=>{"use strict";var n=r(39618);t.Z=void 0;var s=n(r(71133)),i=r(10326),a=(0,s.default)((0,i.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");t.Z=a},37499:(e,t,r)=>{"use strict";var n=r(39618);t.Z=void 0;var s=n(r(71133)),i=r(10326),a=(0,s.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"}),"Web");t.Z=a},14454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>J});var n=r(10326),s=r(17577),i=r(25842),a=r(48260),l=r(48467),o=r(3735),d=r(71728),c=r(30274),u=r(84294),x=r(60893),h=r(72069),p=r(82852),g=r(99707),m=r(60181),f=r(36265),j=r(84873),v=r(42167),b=r(76305),Z=r(74007),y=r(87638),C=r(53913),q=r(90541),P=r(99207),w=r(5394),I=r(21969),k=r(88041),_=r(84648),M=r(37841),S=r(78969),E=r(25886),z=r(40288),N=r(12635),T=r(10617),A=r(80638),D=r(65717),W=r(1451),F=r(78562),H=r(85748),$=r(88587),G=r(63668);let L=e=>{switch(e){case"HomeIcon":return n.jsx(z.default,{});case"SettingsIcon":return n.jsx(N.default,{});case"PersonIcon":return n.jsx(T.default,{});case"TaskIcon":return n.jsx(A.default,{});case"BiotechIcon":return n.jsx(D.default,{});case"SatelliteAltIcon":return n.jsx(W.default,{});case"CoronavirusIcon":return n.jsx(F.default,{});case"ListIcon":return n.jsx(H.default,{});case"PolicyIcon":return n.jsx($.default,{});case"PeopleIcon":return n.jsx(G.default,{});default:return n.jsx(n.Fragment,{})}},O=[{label:"Home",value:"HomeIcon"},{label:"Settings",value:"SettingsIcon"},{label:"Person",value:"PersonIcon"},{label:"PeopleIcon",value:"PeopleIcon"}],R=({label:e,iconName:t,onChange:r})=>n.jsx(n.Fragment,{children:n.jsx(_.Z,{value:O.find(e=>e.value===t)||null,options:O,getOptionLabel:e=>e.label,renderOption:(e,t)=>(0,n.jsxs)(M.Z,{tabIndex:e.tabIndex,role:e.role,id:e.id,onMouseMove:e.onMouseMove,onClick:e.onClick,onTouchStart:e.onTouchStart,"data-option-index":e["data-option-index"],"aria-disabled":e["aria-disabled"],"aria-selected":e["aria-selected"],className:e.className,children:[n.jsx(S.Z,{children:L(t.value)}),n.jsx(E.Z,{children:t.label})]},t.value),onChange:(e,t)=>{r(e,t?t.value:null)},renderInput:r=>n.jsx(q.Z,{...r,label:e,InputProps:{...r.InputProps,startAdornment:t?n.jsx(n.Fragment,{children:L(t)}):null}})})});var U=r(26644),B=r(11757),V=r(9018),K=r(67416),X=r(91549);function Y({id:e,modal:t,parentData:r,handleChangeClose:a,lng:x}){let h=(0,i.I0)(),g=(0,i.v9)(X.cK),[m,f]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),b=(0,i.v9)(X.E2),{t:Z}=(0,p.$)(x,"setting/menu"),[_,M]=(0,s.useState)({id:-1,title:"",icon:"",url:"",description:"",sort:0,parent:0,is_enable:!0,is_show:!0}),[S,E]=(0,s.useState)({title:"Title is required",url:"url is required",sort:"sort is required"}),z={title:{required:!0,requiredMessage:"title is required"},url:{required:!0,requiredMessage:"Url is required"},sort:{required:!0,regex:/^[0-9]+$/,regexMessage:"Please enter the number",requiredMessage:"Sort is required"}},N=(e,t)=>{let r=z[e];if(r.required&&(!t||Array.isArray(t)&&0===t.length))return r.requiredMessage;if(r.regex){if(Array.isArray(t)){for(let e of t)if(!r.regex.test(e))return r.regexMessage}else if(!r.regex.test(t))return r.regexMessage}return""},T=async()=>{h(K.Nw.createMenu(_))};return"delete"==t?(0,n.jsxs)(d.Z,{children:[n.jsx(c.Z,{variant:"body1",gutterBottom:!0,children:Z("confirmDeletion",{title:_.title})}),n.jsx(y.Z,{children:n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(q.Z,{required:!0,label:Z("typeToConfirmDelete",{title:_.title}),variant:"outlined",value:m,error:""!==j,helperText:j||Z("enterNameToDelete"),onChange:e=>{let t=e.target.value;f(t),v(t!==_.title?Z("nameMismatch"):"")}})})}),(0,n.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[" ",n.jsx(u.Z,{variant:"contained",color:"error",onClick:async()=>{h(K.Nw.deleteMenu(e)),a()},startIcon:n.jsx(U.Z,{}),sx:{mr:1},disabled:m!==g.title,children:Z("delete")}),n.jsx(u.Z,{variant:"contained",onClick:a,startIcon:n.jsx(B.Z,{}),children:Z("cancel")})]})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(l.Z,{in:b,children:n.jsx(o.Z,{})}),(0,n.jsxs)(d.Z,{children:[n.jsx(c.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"create"==t?Z("create"):"edit"==t?Z("edit"):null}),n.jsx(P.Z,{}),(0,n.jsxs)(y.Z,{sx:{pt:2},children:[n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(q.Z,{required:!0,label:Z("title"),variant:"outlined",error:""!==S.title,helperText:S.title,value:_.title,onChange:e=>{M(t=>({...t,title:e.target.value}));let t=N("title",e.target.value);E(e=>({...e,title:t}))}})}),n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(R,{label:Z("icon"),iconName:_.icon,onChange:(e,t)=>{M(e=>({...e,icon:t}))}})}),n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(q.Z,{required:!0,label:Z("url"),variant:"outlined",error:""!==S.url,helperText:S.url,value:_.url,onChange:e=>{M(t=>({...t,url:e.target.value}));let t=N("url",e.target.value);E(e=>({...e,url:t}))}})}),n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(q.Z,{label:Z("description"),variant:"outlined",value:_.description,onChange:e=>{M(t=>({...t,description:e.target.value}))}})}),n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(q.Z,{required:!0,label:Z("sort"),variant:"outlined",error:""!==S.sort,helperText:S.sort,value:_.sort,onChange:e=>{let t=e.target.value,r=""===t?0:parseInt(t,10);M(e=>({...e,sort:r}));let n=N("sort",e.target.value);E(e=>({...e,sort:n}))}})}),n.jsx(V.j,{title:Z("parent"),onChange:e=>{M(t=>({...t,parent:e}))},value:_.parent,parentData:r})]}),(0,n.jsxs)(y.Z,{sx:{alignItems:"flex-start"},children:[n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(w.Z,{value:_.is_enable,control:n.jsx(I.Z,{color:"secondary",checked:_.is_enable}),label:Z("isEnable"),labelPlacement:"start",onChange:(e,t)=>{M(e=>({...e,is_enable:t}))}})}),n.jsx(C.Z,{variant:"outlined",sx:{m:1},children:n.jsx(w.Z,{value:_.is_show,control:n.jsx(I.Z,{color:"secondary",checked:_.is_show}),label:Z("isShow"),labelPlacement:"start",onChange:(e,t)=>{M(e=>({...e,is_show:t}))}})})]}),n.jsx(d.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:1,mb:1},children:n.jsx(k.Z,{children:n.jsx(u.Z,{variant:"contained",color:"success",disabled:Object.values(S).some(e=>""!==e),onClick:async()=>{T(),a()},children:Z("save")})})})]})]})}function J({params:{lng:e}}){(0,i.I0)();let t=(0,i.v9)(X.C8),r=(0,i.v9)(X.E2),{t:y}=(0,p.$)(e,"setting/menu"),C=(0,g.A)(),[q,P]=(0,s.useState)(!1),w=()=>P(!0),I=()=>P(!1),[k,_]=(0,s.useState)(!0),[M,S]=(0,s.useState)("create"),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};E.width=k?800:400;let z=[{field:"icon",headerName:y("icon"),flex:1},{field:"url",headerName:y("url"),flex:1},{field:"description",headerName:y("description"),flex:1},{field:"sort",headerName:y("sort"),flex:1},{field:"is_enable",headerName:y("isEnable"),type:"boolean",flex:1},{field:"is_show",headerName:y("isShow"),type:"boolean",flex:1},{field:"actions",headerName:"",flex:1,align:"center",sortable:!1,disableColumnMenu:!0,renderCell:e=>(0,n.jsxs)("div",{children:[n.jsx(a.Z,{onClick:()=>{T(Number(e.id)),w(),S("edit")},size:"small",style:{margin:"5px"},children:n.jsx(v.Z,{fontSize:"inherit"})}),n.jsx(a.Z,{onClick:()=>{T(Number(e.id)),w(),S("delete")},size:"small",style:{margin:"5px"},children:n.jsx(b.Z,{fontSize:"inherit"})})]})}],[N,T]=(0,s.useState)(-1);return(0,n.jsxs)(n.Fragment,{children:[n.jsx(l.Z,{in:r,children:n.jsx(o.Z,{})}),(0,n.jsxs)(d.Z,{children:[(0,n.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(c.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:y("menuManage")}),(0,n.jsxs)(d.Z,{children:[" ",n.jsx(u.Z,{component:"label",variant:"contained",color:"info",onClick:()=>{w(),S("create")},startIcon:n.jsx(j.Z,{}),sx:{mt:1,mb:1},children:y("create")})]})]}),n.jsx(x.Z,{elevation:3,sx:{p:2,borderRadius:"15px",width:"99%"},children:t&&t.length>0?n.jsx(m.s,{treeData:!0,apiRef:C,rows:t,columns:z,slots:{toolbar:f.n},groupingColDef:{width:300,renderHeader:()=>y("title"),valueGetter:e=>e.row.title},getTreeDataPath:e=>e.hierarchy,disableRowSelectionOnClick:!0,autoHeight:!0}):n.jsx(c.Z,{variant:"body1"})})]}),n.jsx(h.Z,{open:q,onClose:I,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(d.Z,{sx:E,children:["delete"!=M?n.jsx(c.Z,{id:"modal-modal-title",variant:"h6",component:"h2",style:{color:"white"},children:n.jsx(a.Z,{"aria-label":"resize",style:{float:"right",backgroundColor:"transparent"},onClick:()=>{_(!k)},children:n.jsx(Z.Z,{})})}):n.jsx(n.Fragment,{}),n.jsx(Y,{id:N,modal:M,parentData:t,handleChangeClose:I,lng:e})]})})]})}},91549:(e,t,r)=>{"use strict";r.d(t,{C8:()=>a,E2:()=>i,cK:()=>l});var n=r(39147);let s=e=>e.menu,i=(0,n.P1)(s,e=>e.loading);(0,n.P1)(s,e=>e.menuRequest);let a=(0,n.P1)(s,e=>e.menus),l=(0,n.P1)(s,e=>e.menuData)},81598:(e,t,r)=>{"use strict";r.d(t,{C:()=>u});var n=r(10326),s=r(17577),i=r(2354),a=r(94205),l=r(6446),o=r(93332),d=r(5394),c=r(76971);function u({data:e,selected:t,setSelected:r}){let u=(0,s.useMemo)(()=>new Set(t),[t]),x=e=>{let t=[e.id];return e.children&&e.children.forEach(e=>{t=t.concat(x(e))}),t},h=(e,t={})=>(e.children&&(t[e.id]=e.children.map(e=>e.id),e.children.forEach(e=>h(e,t))),t),p=(0,s.useMemo)(()=>h(e),[e]),g=(t,n)=>{let s=x(e).filter(e=>e===t||p[e]?.includes(t)),i=new Set(u);n?s.forEach(e=>i.add(e)):s.forEach(e=>i.delete(e)),r(Array.from(i))},m=e=>{let t=e.children?.every(e=>u.has(e.id)),r=e.children?.some(e=>u.has(e.id)),s=u.has(e.id);return n.jsx(i.k,{nodeId:e.id,label:n.jsx(d.Z,{control:n.jsx(c.Z,{checked:s,indeterminate:r&&!t,onChange:t=>g(e.id,t.target.checked),onClick:e=>e.stopPropagation()}),label:e.name}),children:e.children?.map(e=>m(e))},e.id)};return n.jsx(a.L,{defaultCollapseIcon:n.jsx(l.Z,{}),defaultExpandIcon:n.jsx(o.Z,{}),children:m(e)})}},9018:(e,t,r)=>{"use strict";r.d(t,{j:()=>q});var n=r(10326),s=r(17577),i=r.n(s),a=r(91703),l=r(23743),o=r(30274),d=r(53913),c=r(90541),u=r(9811),x=r(48260),h=r(2354),p=r(68981),g=r(94205),m=r(6446),f=r(93332),j=r(71728),v=r(91421),b=r(33182),Z=r(37499);let y=(0,a.ZP)(h.k)(({theme:e})=>({color:e.palette.text.secondary,[`& .${p.r.content}`]:{color:e.palette.text.secondary,paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:e.typography.fontWeightRegular},"&:hover":{backgroundColor:e.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:`var(--tree-view-bg-color, ${e.palette.action.selected})`,color:"var(--tree-view-color)"},[`& .${p.r.label}`]:{fontWeight:"inherit",color:"inherit"}},[`& .${p.r.group}`]:{marginLeft:0,[`& .${p.r.content}`]:{paddingLeft:e.spacing(2)}}})),C=i().forwardRef(function(e,t){let r=(0,l.Z)(),{bgColor:s,color:i,labelIcon:a,labelInfo:d,labelText:c,colorForDarkMode:u,bgColorForDarkMode:x,...h}=e,p={"--tree-view-color":"dark"!==r.palette.mode?i:u,"--tree-view-bg-color":"dark"!==r.palette.mode?s:x};return n.jsx(y,{label:(0,n.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center",p:.5,pr:0},children:[n.jsx(j.Z,{component:a,color:"inherit",sx:{mr:1}}),n.jsx(o.Z,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1},children:c}),n.jsx(o.Z,{variant:"caption",color:"inherit",children:d})]}),style:p,...h,ref:t})}),q=({title:e,onChange:t,value:r,parentData:i,required:a=!1,error:l=!1,helperText:o})=>{let[h,p]=(0,s.useState)(""),[y,q]=(0,s.useState)(null);(0,s.useEffect)(()=>{p(i.find(e=>e.id===r)?.title||"")},[r,i]);let P=()=>{q(null)},w=e=>n.jsx(C,{nodeId:String(e.id),labelText:e.title,labelIcon:Array.isArray(e.children)&&e.children.length>0?b.Z:Z.Z,children:Array.isArray(e.children)?e.children.map(e=>w(e)):null},e.id),I=function(e){let t={};e.forEach(e=>{t[e.id]={...e,children:[]}});let r=[];return Object.values(t).forEach(e=>{if(0===e.parent)r.push(e);else{let r=t[e.parent];r&&(r.children=r.children??[],r.children.push(e))}}),r}(i);return(0,n.jsxs)(n.Fragment,{children:[n.jsx(d.Z,{variant:"outlined",sx:{m:1},children:n.jsx(c.Z,{variant:"outlined",required:a,error:l,helperText:o,label:e,name:"parentForm",id:"parentForm",value:h,className:"w-100",onClick:e=>{q(e.currentTarget)},InputProps:{readOnly:!0,endAdornment:h?n.jsx(x.Z,{onClick:e=>{e.stopPropagation(),q(null),p(""),t(0)},edge:"end",children:n.jsx(v.Z,{})}):n.jsx(m.Z,{})}})}),n.jsx(u.ZP,{id:"TreePickerId",open:!!y,anchorEl:y,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:n.jsx(j.Z,{sx:{bgcolor:"background.paper",width:y?.offsetWidth||void 0},children:n.jsx(g.L,{"aria-label":"icon expansion",defaultSelected:String(r),selected:String(r),defaultCollapseIcon:n.jsx(m.Z,{}),defaultExpandIcon:n.jsx(f.Z,{}),onNodeSelect:(e,r)=>{e.target instanceof HTMLElement&&(P(),t(Number(r)),p(e.target.innerText))},sx:{height:200,flexGrow:1,minWidth:"200px",overflowY:"auto"},children:I.map(e=>w(e))})})})]})};r(81598)},3772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>l});var n=r(68570);let s=(0,n.createProxy)(String.raw`/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/menu/page.tsx`),{__esModule:i,$$typeof:a}=s;s.default;let l=(0,n.createProxy)(String.raw`/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/menu/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,1184,4471,6647,9999,5518,743,5313,1860,1174,6494,9749],()=>r(7977));module.exports=n})();