(()=>{var e={};e.id=6225,e.ids=[6225],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},30816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(78417),r(5932),r(32029),r(35866);var i=r(23191),n=r(88716),s=r(37922),a=r.n(s),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["[lng]",{children:["(index)",{children:["setting",{children:["power",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,78417)),"/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/power/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5932)),"/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/power/page.tsx"],u="/[lng]/(index)/setting/power/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/[lng]/(index)/setting/power/page",pathname:"/[lng]/setting/power",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},402:(e,t,r)=>{Promise.resolve().then(r.bind(r,42539))},91421:(e,t,r)=>{"use strict";var i=r(39618);t.Z=void 0;var n=i(r(71133)),s=r(10326),a=(0,n.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=a},33182:(e,t,r)=>{"use strict";var i=r(39618);t.Z=void 0;var n=i(r(71133)),s=r(10326),a=(0,n.default)((0,s.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");t.Z=a},37499:(e,t,r)=>{"use strict";var i=r(39618);t.Z=void 0;var n=i(r(71133)),s=r(10326),a=(0,n.default)((0,s.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"}),"Web");t.Z=a},85445:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},91549:(e,t,r)=>{"use strict";r.d(t,{C8:()=>a,E2:()=>s,cK:()=>l});var i=r(39147);let n=e=>e.menu,s=(0,i.P1)(n,e=>e.loading);(0,i.P1)(n,e=>e.menuRequest);let a=(0,i.P1)(n,e=>e.menus),l=(0,i.P1)(n,e=>e.menuData)},42539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var i=r(10326),n=r(17577),s=r(25842),a=r(48260),l=r(48467),o=r(3735),d=r(71728),c=r(30274),u=r(84294),x=r(60893),p=r(72069),h=r(82852),g=r(99707),m=r(60181),f=r(36265),v=r(84873),j=r(42167),b=r(76305),Z=r(74007),y=r(19578),w=r(21969),q=r(87638),C=r(53913),_=r(90541),k=r(99207),P=r(5394),M=r(88041),S=r(26644),I=r(11757),z=r(9018),A=r(85445),E=r(91703),N=r(52023),R=r(39147);let $=e=>e.power,D=(0,R.P1)($,e=>e.loading);(0,R.P1)($,e=>e.powerRequest);let T=(0,R.P1)($,e=>e.powers),W=(0,R.P1)($,e=>e.powerData),O=(0,E.ZP)(w.Z)(({theme:e})=>({"& .MuiSwitch-switchBase.Mui-checked":{color:A.Z[600],"&:hover":{backgroundColor:(0,N.Fq)(A.Z[600],e.palette.action.hoverOpacity)}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:A.Z[600]}}));function F({id:e,modal:t,menuData:r,handleChangeClose:a,lng:x}){let p=(0,s.v9)(D),g=(0,s.v9)(W),[m,f]=(0,n.useState)(""),[v,j]=(0,n.useState)(""),b=(0,s.I0)(),{t:Z}=(0,h.$)(x,"setting/power"),[w,A]=(0,n.useState)({id:-1,menu_id:-1,title:"",code:"",description:"",sort:null,is_enable:!0}),[E,N]=(0,n.useState)({title:Z("required",{name:Z("title")}),code:Z("required",{name:Z("code")}),menu_id:Z("required",{name:Z("Menu")})}),R={title:{required:!0,requiredMessage:Z("titleRequired")},code:{required:!0,requiredMessage:Z("codeRequired")},menu_id:{required:!0,requiredMessage:Z("descriptionRequired")}},$=(e,t)=>{let r=R[e];if(r.required&&(!t||Array.isArray(t)&&0===t.length))return r.requiredMessage;if(r.regex){if(Array.isArray(t)){for(let e of t)if(!r.regex.test(e))return r.regexMessage}else if(!r.regex.test(t))return r.regexMessage}return""},T=async()=>{b(y.Nw.createOrUpdatePower(w))};return"delete"==t?(0,i.jsxs)(d.Z,{children:[i.jsx(c.Z,{variant:"body1",gutterBottom:!0,children:Z("confirmDeletion",{title:w.title})}),i.jsx(q.Z,{children:i.jsx(C.Z,{variant:"outlined",sx:{m:1},children:i.jsx(_.Z,{required:!0,label:Z("typeToConfirmDelete",{title:w.title}),variant:"outlined",value:m,error:""!==v,helperText:v||Z("enterNameToDelete"),onChange:e=>{let t=e.target.value;f(t),j(t!==w.title?Z("nameMismatch"):"")}})})}),(0,i.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[" ",i.jsx(u.Z,{variant:"contained",color:"error",onClick:async()=>{b(y.Nw.deletePower(e)),a()},startIcon:i.jsx(S.Z,{}),sx:{mr:1},disabled:m!==g.title,children:Z("delete")}),i.jsx(u.Z,{variant:"contained",onClick:a,startIcon:i.jsx(I.Z,{}),children:Z("cancel")})]})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(l.Z,{in:p,children:i.jsx(o.Z,{})}),(0,i.jsxs)(d.Z,{children:[i.jsx(c.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:Z(t)}),i.jsx(k.Z,{}),(0,i.jsxs)(q.Z,{sx:{pt:2},children:[i.jsx(z.j,{required:!0,error:""!==E.menu_id,helperText:E.menu_id,title:Z("menuName"),onChange:e=>{A(t=>({...t,menu_id:e}));let t=$("menu_id",String(e));N(e=>({...e,menu_id:t}))},value:w.menu_id,parentData:r}),i.jsx(C.Z,{variant:"outlined",sx:{m:1},children:i.jsx(_.Z,{required:!0,label:Z("title"),variant:"outlined",error:""!==E.title,helperText:E.title,value:w.title,onChange:e=>{A(t=>({...t,title:e.target.value}));let t=$("title",e.target.value);N(e=>({...e,title:t}))}})}),i.jsx(C.Z,{variant:"outlined",sx:{m:1},children:i.jsx(_.Z,{required:!0,label:Z("code"),variant:"outlined",error:""!==E.code,helperText:E.code,value:w.code,onChange:e=>{A(t=>({...t,code:e.target.value}));let t=$("code",e.target.value);N(e=>({...e,code:t}))}})}),i.jsx(C.Z,{variant:"outlined",sx:{m:1},children:i.jsx(_.Z,{label:Z("description"),variant:"outlined",value:w.description,onChange:e=>{A(t=>({...t,description:e.target.value}))}})})]}),i.jsx(q.Z,{sx:{alignItems:"flex-start"},children:i.jsx(C.Z,{variant:"outlined",sx:{m:1},children:i.jsx(P.Z,{value:w.is_enable,control:i.jsx(O,{color:"primary",checked:w.is_enable,style:{color:w.is_enable?"red":""}}),label:Z("isEnable"),labelPlacement:"start",onChange:(e,t)=>{A(e=>({...e,is_enable:t}))}})})}),i.jsx(d.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:1,mb:1},children:i.jsx(M.Z,{children:i.jsx(u.Z,{variant:"contained",color:"success",disabled:Object.values(E).some(e=>""!==e),onClick:async()=>{T(),a()},children:Z("save")})})})]})]})}var G=r(91549);function L({params:{lng:e}}){let{t}=(0,h.$)(e,"setting/power"),r=(0,g.A)(),w=(0,s.I0)(),q=(0,s.v9)(D),C=(0,s.v9)(T),_=(0,s.v9)(G.C8),[k,P]=(0,n.useState)(!1),M=()=>P(!0),S=()=>P(!1),[I,z]=(0,n.useState)(!0),[A,E]=(0,n.useState)("create"),N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};N.width=I?800:400;let R=[{field:"menu_name",headerName:`${t("menuName")}`,flex:1},{field:"title",headerName:`${t("title")}`,flex:1},{field:"code",headerName:`${t("code")}`,flex:1},{field:"description",headerName:`${t("description")}`,flex:1},{field:"is_enable",headerName:`${t("isEnable")}`,type:"boolean",flex:1},{field:"actions",headerName:"",flex:1,align:"center",sortable:!1,disableColumnMenu:!0,renderCell:e=>(0,i.jsxs)("div",{children:[i.jsx(a.Z,{onClick:()=>{W(Number(e.id)),M(),E("edit")},size:"small",style:{margin:"5px"},children:i.jsx(j.Z,{fontSize:"inherit"})}),i.jsx(a.Z,{onClick:()=>{W(Number(e.id)),M(),E("delete")},size:"small",style:{margin:"5px"},children:i.jsx(b.Z,{fontSize:"inherit"})})]})}],[$,W]=(0,n.useState)(-1),O=async e=>{let t=[...C],r=t.findIndex(t=>t.id===e.row.id),i=e.targetIndex;if(r>-1&&i>-1){let e={...t[r]};t[r]={...t[i]},t[i]=e}w(y.Nw.changeRowPower({firstId:t[r].id,secondId:t[i].id}))};return(0,i.jsxs)(i.Fragment,{children:[i.jsx(l.Z,{in:q,children:i.jsx(o.Z,{})}),(0,i.jsxs)(d.Z,{children:[(0,i.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsx(c.Z,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:t("powerManage")}),(0,i.jsxs)(d.Z,{children:[" ",i.jsx(u.Z,{component:"label",variant:"contained",color:"info",onClick:()=>{M(),E("create")},startIcon:i.jsx(v.Z,{}),sx:{mt:1,mb:1},children:t("create")})]})]}),i.jsx(x.Z,{elevation:3,sx:{p:2,borderRadius:"15px",width:"99%"},children:C&&C.length>0?i.jsx(m.s,{apiRef:r,rows:C,rowReordering:!0,columns:R,onRowOrderChange:O,slots:{toolbar:f.n},disableRowSelectionOnClick:!0,autoHeight:!0}):i.jsx(c.Z,{variant:"body1"})})]}),i.jsx(p.Z,{open:k,onClose:S,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsxs)(d.Z,{sx:N,children:["delete"!=A?i.jsx(c.Z,{id:"modal-modal-title",variant:"h6",component:"h2",style:{color:"white"},children:i.jsx(a.Z,{"aria-label":"resize",style:{float:"right",backgroundColor:"transparent"},onClick:()=>{z(!I)},children:i.jsx(Z.Z,{})})}):i.jsx(i.Fragment,{}),i.jsx(F,{id:$,modal:A,menuData:_,handleChangeClose:S,lng:e,t:t})]})})]})}r(67416)},81598:(e,t,r)=>{"use strict";r.d(t,{C:()=>u});var i=r(10326),n=r(17577),s=r(2354),a=r(94205),l=r(6446),o=r(93332),d=r(5394),c=r(76971);function u({data:e,selected:t,setSelected:r}){let u=(0,n.useMemo)(()=>new Set(t),[t]),x=e=>{let t=[e.id];return e.children&&e.children.forEach(e=>{t=t.concat(x(e))}),t},p=(e,t={})=>(e.children&&(t[e.id]=e.children.map(e=>e.id),e.children.forEach(e=>p(e,t))),t),h=(0,n.useMemo)(()=>p(e),[e]),g=(t,i)=>{let n=x(e).filter(e=>e===t||h[e]?.includes(t)),s=new Set(u);i?n.forEach(e=>s.add(e)):n.forEach(e=>s.delete(e)),r(Array.from(s))},m=e=>{let t=e.children?.every(e=>u.has(e.id)),r=e.children?.some(e=>u.has(e.id)),n=u.has(e.id);return i.jsx(s.k,{nodeId:e.id,label:i.jsx(d.Z,{control:i.jsx(c.Z,{checked:n,indeterminate:r&&!t,onChange:t=>g(e.id,t.target.checked),onClick:e=>e.stopPropagation()}),label:e.name}),children:e.children?.map(e=>m(e))},e.id)};return i.jsx(a.L,{defaultCollapseIcon:i.jsx(l.Z,{}),defaultExpandIcon:i.jsx(o.Z,{}),children:m(e)})}},9018:(e,t,r)=>{"use strict";r.d(t,{j:()=>q});var i=r(10326),n=r(17577),s=r.n(n),a=r(91703),l=r(23743),o=r(30274),d=r(53913),c=r(90541),u=r(9811),x=r(48260),p=r(2354),h=r(68981),g=r(94205),m=r(6446),f=r(93332),v=r(71728),j=r(91421),b=r(33182),Z=r(37499);let y=(0,a.ZP)(p.k)(({theme:e})=>({color:e.palette.text.secondary,[`& .${h.r.content}`]:{color:e.palette.text.secondary,paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:e.typography.fontWeightRegular},"&:hover":{backgroundColor:e.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:`var(--tree-view-bg-color, ${e.palette.action.selected})`,color:"var(--tree-view-color)"},[`& .${h.r.label}`]:{fontWeight:"inherit",color:"inherit"}},[`& .${h.r.group}`]:{marginLeft:0,[`& .${h.r.content}`]:{paddingLeft:e.spacing(2)}}})),w=s().forwardRef(function(e,t){let r=(0,l.Z)(),{bgColor:n,color:s,labelIcon:a,labelInfo:d,labelText:c,colorForDarkMode:u,bgColorForDarkMode:x,...p}=e,h={"--tree-view-color":"dark"!==r.palette.mode?s:u,"--tree-view-bg-color":"dark"!==r.palette.mode?n:x};return i.jsx(y,{label:(0,i.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",p:.5,pr:0},children:[i.jsx(v.Z,{component:a,color:"inherit",sx:{mr:1}}),i.jsx(o.Z,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1},children:c}),i.jsx(o.Z,{variant:"caption",color:"inherit",children:d})]}),style:h,...p,ref:t})}),q=({title:e,onChange:t,value:r,parentData:s,required:a=!1,error:l=!1,helperText:o})=>{let[p,h]=(0,n.useState)(""),[y,q]=(0,n.useState)(null);(0,n.useEffect)(()=>{h(s.find(e=>e.id===r)?.title||"")},[r,s]);let C=()=>{q(null)},_=e=>i.jsx(w,{nodeId:String(e.id),labelText:e.title,labelIcon:Array.isArray(e.children)&&e.children.length>0?b.Z:Z.Z,children:Array.isArray(e.children)?e.children.map(e=>_(e)):null},e.id),k=function(e){let t={};e.forEach(e=>{t[e.id]={...e,children:[]}});let r=[];return Object.values(t).forEach(e=>{if(0===e.parent)r.push(e);else{let r=t[e.parent];r&&(r.children=r.children??[],r.children.push(e))}}),r}(s);return(0,i.jsxs)(i.Fragment,{children:[i.jsx(d.Z,{variant:"outlined",sx:{m:1},children:i.jsx(c.Z,{variant:"outlined",required:a,error:l,helperText:o,label:e,name:"parentForm",id:"parentForm",value:p,className:"w-100",onClick:e=>{q(e.currentTarget)},InputProps:{readOnly:!0,endAdornment:p?i.jsx(x.Z,{onClick:e=>{e.stopPropagation(),q(null),h(""),t(0)},edge:"end",children:i.jsx(j.Z,{})}):i.jsx(m.Z,{})}})}),i.jsx(u.ZP,{id:"TreePickerId",open:!!y,anchorEl:y,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:i.jsx(v.Z,{sx:{bgcolor:"background.paper",width:y?.offsetWidth||void 0},children:i.jsx(g.L,{"aria-label":"icon expansion",defaultSelected:String(r),selected:String(r),defaultCollapseIcon:i.jsx(m.Z,{}),defaultExpandIcon:i.jsx(f.Z,{}),onNodeSelect:(e,r)=>{e.target instanceof HTMLElement&&(C(),t(Number(r)),h(e.target.innerText))},sx:{height:200,flexGrow:1,minWidth:"200px",overflowY:"auto"},children:k.map(e=>_(e))})})})]})};r(81598)},78417:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>s,default:()=>l});var i=r(68570);let n=(0,i.createProxy)(String.raw`/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/power/page.tsx`),{__esModule:s,$$typeof:a}=n;n.default;let l=(0,i.createProxy)(String.raw`/Users/tzu/Desktop/Cyfoundry_Code/phalanx/phalanx/src/app/[lng]/(index)/setting/power/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[8948,1184,4471,6647,9999,5518,743,5313,1860,1174,6494,9749],()=>r(30816));module.exports=i})();